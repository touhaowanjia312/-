# GUI 版本使用说明

## 🎨 界面预览

GUI 版本提供了一个现代化、全面的图形界面，包含以下功能：

### 主要功能模块

1. **📊 仪表板**
   - 实时运行状态显示
   - 统计信息（识别信号数、执行交易数、盈亏、胜率）
   - 账户余额显示

2. **🎮 控制面板**
   - 一键启动/停止机器人
   - 实时状态指示器
   - 可视化配置开关

3. **📝 实时日志**
   - 彩色日志输出
   - 自动滚动
   - 一键清除

4. **🧪 信号测试工具**
   - 在线测试信号解析
   - 即时查看解析结果
   - 支持多种格式

5. **📈 交易历史**
   - 表格形式展示
   - 时间、交易对、类型、价格等详细信息
   - 可滚动查看

6. **⚙️ 详细设置**
   - Telegram 配置
   - 交易所配置
   - 可视化保存到 .env

7. **🌓 主题切换**
   - 深色模式（默认）
   - 浅色模式

## 🚀 快速启动

### 方法 1：使用启动脚本（Windows）
```bash
start_gui.bat
```

### 方法 2：直接运行
```bash
python gui_main.py
```

### 方法 3：从代码启动
```python
from gui_main import main
main()
```

## 📦 安装 GUI 依赖

如果你已经安装过基础版本的依赖，需要额外安装 GUI 组件：

```bash
pip install -r requirements.txt
```

新增的 GUI 依赖：
- `customtkinter` - 现代化的 Tkinter 界面库
- `pillow` - 图像处理库
- `matplotlib` - 图表绘制库

## 📖 详细功能说明

### 1. 启动机器人

1. 确保 `.env` 文件已配置好
2. 点击 **"▶ 启动机器人"** 按钮
3. 观察状态指示器变为 **"● 运行中"**（绿色）
4. 实时日志会显示机器人的运行状态

**首次运行提示**：
- 如果是第一次运行，需要在终端窗口输入 Telegram 验证码
- GUI 窗口可能会暂时无响应，这是正常的
- 输入验证码后，GUI 会恢复响应

### 2. 停止机器人

点击 **"■ 停止机器人"** 按钮即可停止运行。

### 3. 查看账户余额

1. 确保已配置交易所 API
2. 点击 **"🔄 刷新余额"** 按钮
3. 余额会显示在 "💰 账户余额" 区域

### 4. 测试信号解析

1. 切换到 **"🧪 信号测试"** 标签页
2. 在输入框输入交易信号（或使用默认示例）
3. 点击 **"🧪 测试解析"** 按钮
4. 查看解析结果

**支持的信号格式**：
```
🔥 LONG BTC/USDT
Entry: 42000
Stop Loss: 41000
Take Profit: 43000
Leverage: 10x
```

### 5. 配置调整

#### 快速配置（左侧面板）
- **启用交易**：开启后才会实际执行交易
- **使用测试网**：建议先启用测试网
- **风险百分比**：拖动滑块调整（0.1% - 5.0%）

#### 详细配置（设置标签页）
1. 切换到 **"⚙️ 详细设置"** 标签页
2. 修改 Telegram 或交易所配置
3. 点击 **"💾 保存配置到 .env"**

**注意**：配置更改后需要重启机器人才能生效。

### 6. 查看交易历史

切换到 **"📈 交易历史"** 标签页，可以看到：
- 交易时间
- 交易对
- 交易类型（LONG/SHORT）
- 价格
- 数量
- 状态

### 7. 主题切换

在左侧面板底部找到 **"主题"** 开关：
- 开启：深色模式（护眼）
- 关闭：浅色模式（明亮）

## 🎯 使用场景

### 场景 1：新手测试模式

```
1. 启动 GUI
2. 关闭 "启用交易" 开关
3. 启动机器人
4. 观察实时日志，了解信号识别情况
5. 使用信号测试工具验证不同格式
```

### 场景 2：测试网交易

```
1. 配置测试网 API
2. 开启 "使用测试网"
3. 开启 "启用交易"
4. 设置风险百分比为 1%
5. 启动机器人
6. 观察交易执行情况
```

### 场景 3：正式交易

```
1. 确保配置正确
2. 关闭 "使用测试网"
3. 设置合理的风险百分比（建议 0.5% - 1%）
4. 启动机器人
5. 定期检查账户余额和交易历史
```

## 💡 使用技巧

### 技巧 1：保持日志清晰
定期点击 "清除日志" 按钮，避免日志过多导致界面卡顿。

### 技巧 2：及时刷新余额
执行交易后，点击 "刷新余额" 查看最新余额。

### 技巧 3：使用信号测试
在群组看到新格式信号时，先复制到测试工具验证是否能识别。

### 技巧 4：统计监控
关注 "📊 统计信息" 区域，了解机器人的整体表现。

### 技巧 5：多标签切换
- 启动机器人时，在 "实时日志" 标签查看运行状态
- 定期切换到 "交易历史" 查看执行记录
- 调整配置时，切换到 "详细设置"

## ⚠️ 常见问题

### Q1: 点击启动没反应？
**A**: 检查：
- 终端窗口是否提示输入验证码
- .env 文件是否配置正确
- 查看实时日志是否有错误信息

### Q2: 余额显示 "获取失败"？
**A**: 检查：
- 交易所 API 是否配置
- API 密钥是否有效
- 网络连接是否正常

### Q3: 信号测试总是失败？
**A**: 
- 查看解析结果的提示
- 对比支持的格式示例
- 可能需要修改 `signal_parser.py`

### Q4: GUI 界面卡顿？
**A**:
- 清除日志
- 关闭不需要的程序
- 检查 CPU 使用率

### Q5: 如何在后台运行？
**A**: GUI 版本需要保持窗口打开。如需后台运行，请使用命令行版本（`main.py`）。

## 🔧 高级功能（即将推出）

以下功能将在后续版本中添加：

- [ ] 📊 实时K线图表
- [ ] 💹 盈亏曲线图
- [ ] 📧 邮件通知
- [ ] 🔔 桌面通知
- [ ] 💾 交易记录导出（CSV/Excel）
- [ ] 🤖 多账户管理
- [ ] 📱 移动端适配
- [ ] 🌐 Web 版本

## 🎨 界面快捷键

- `Ctrl + L` - 聚焦到日志区域
- `Ctrl + T` - 切换到信号测试
- `Ctrl + H` - 切换到交易历史
- `Ctrl + Q` - 退出程序（需确认）

## 📸 截图说明

### 主界面布局

```
┌─────────────────────────────────────────────────────┐
│  左侧控制面板         │      右侧内容区域          │
│                      │                             │
│  🤖 控制台           │  📝 实时日志                │
│  ● 状态指示器        │  🧪 信号测试                │
│  ▶ 启动按钮          │  📈 交易历史                │
│  ■ 停止按钮          │  ⚙️ 详细设置                │
│                      │                             │
│  📊 统计信息         │  [标签页切换]               │
│  💰 账户余额         │                             │
│  ⚙️ 快速配置         │  [内容显示区域]             │
│  🌓 主题切换         │                             │
└─────────────────────────────────────────────────────┘
```

## 🔐 安全提示

1. **不要截图分享配置页面**：包含 API 密钥
2. **定期更改 API 密钥**：提高安全性
3. **使用 IP 白名单**：限制 API 访问
4. **不要在公共网络运行**：避免信息泄露
5. **关闭程序前停止机器人**：避免未完成的交易

## 📞 获取帮助

- 查看 `README.md` - 完整文档
- 查看 `QUICKSTART.md` - 快速入门
- 查看 `EXAMPLES.md` - 使用示例
- 提交 GitHub Issue - 报告问题

---

享受高级全面的 GUI 体验！🎉

